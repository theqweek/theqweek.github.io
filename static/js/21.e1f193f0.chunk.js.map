{"version":3,"sources":["views/app-views/main/clients/user-list/edit-profile/index.js"],"names":["EditProfile","location","useState","isEdited","setIsEdited","state","to","id","name","username","img","email","phone","website","address","onFinish","values","a","key","message","loading","content","axios","put","API_BASE_URL","dateOfBirth","phoneNumber","city","postcode","response","console","log","setTimeout","success","duration","alignItems","mobileFlex","className","size","src","icon","layout","initialValues","street","zipcode","onFinishFailed","errorInfo","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","type","htmlType"],"mappings":"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","file":"static/js/21.e1f193f0.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Avatar, Button, Input, DatePicker, Row, Col, message,} from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\r\nimport Flex from 'components/shared-components/Flex'\r\nimport { Redirect} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from 'configs/AppConfig';\r\n\r\nconst EditProfile = ({location}) => {\r\n  const [isEdited, setIsEdited] = useState(false)\r\n\r\n  if(!location.state) return <Redirect to={`/app/main/clients/user-list`} />\r\n\r\n  const { id, name, username, img, email, phone, website, address } = location.state;\r\n  \r\n\r\n  const onFinish = async (values) => {\r\n    const key = 'updatable';\r\n    message.loading({ content: 'Updating...', key });\r\n    try {\r\n       const response = await axios.put(`${API_BASE_URL}/users/${id}`, {\r\n        name: values.name,\r\n        username: values.username,\r\n        email: values.email,\r\n        img: img,\r\n        dateOfBirth: values.dateOfBirth,\r\n        phoneNumber: values.phoneNumber,\r\n        website: values.website,\r\n        address: values.address,\r\n\t\t\t\tcity: values.city,\r\n\t\t\t\tpostcode: values.postcode\r\n      }\r\n      );\r\n      console.log('Returned data: ', response);\r\n    } catch (e) {\r\n      console.log(`Axios request failed: ${e}`);\r\n    }\r\n    setTimeout(() => {\r\n      message.success({ content: 'Done!', key, duration: 2 });\r\n      setIsEdited(true);\r\n    }, 1000);\r\n    \r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  return (\r\n    isEdited ? <Redirect to={`/app/main/clients/user-list`} /> : \r\n    <>\r\n      <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\r\n        <Avatar size={90} src={img} icon={<UserOutlined />}/>\r\n      </Flex>\r\n      <div className=\"mt-4\">\r\n        <Form \r\n          name=\"basicInformation\"\r\n          layout=\"vertical\"\r\n          initialValues={\r\n            { \r\n              'name': name,\r\n              'email': email,\r\n              'username': username,\r\n              'phoneNumber': phone,\r\n              'website': website,\r\n              'address': address.street,\r\n              'city': address.city,\r\n              'postcode': address.zipcode\r\n            }\r\n          }\r\n          onFinish={onFinish}\r\n          onFinishFailed={onFinishFailed}\r\n        >\r\n          <Row>\r\n            <Col xs={24} sm={24} md={24} lg={16}>\r\n              <Row gutter={ROW_GUTTER}>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Name\"\r\n                    name=\"name\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: 'Please input your name!',\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Username\"\r\n                    name=\"username\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: 'Please input your username!'\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Email\"\r\n                    name=\"email\"\r\n                    rules={[{ \r\n                      required: true,\r\n                      type: 'email',\r\n                      message: 'Please enter a valid email!' \r\n                    }]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Date of Birth\"\r\n                    name=\"dateOfBirth\"\r\n                  >\r\n                    <DatePicker className=\"w-100\"/>\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Phone Number\"\r\n                    name=\"phoneNumber\"\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Website\"\r\n                    name=\"website\"\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={24}>\r\n                  <Form.Item\r\n                    label=\"Address\"\r\n                    name=\"address\"\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"City\"\r\n                    name=\"city\"\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12}>\r\n                  <Form.Item\r\n                    label=\"Post code\"\r\n                    name=\"postcode\"\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Save Change\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EditProfile"],"sourceRoot":""}